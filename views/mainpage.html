<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      padding: 0;
      margin: 0;
      background-color: #141414;
      /* Dark background */
      color: #fff;
      /* Light text */
      font-family: 'Arial', sans-serif;
      /* Modern font */
    }

    .container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      overflow-x: hidden;
      margin-top: 20px;
      /* Add margin at the top for spacing */
    }

    .items {
      display: flex;
      overflow-x: auto;
      overflow-y: hidden;
      white-space: nowrap;
      scroll-behavior: smooth;
    }

    .item {
      flex: 0 0 auto;
      width: 171px;
      /* Larger width */
      height: 305px;
      /* Keep a 16:9 aspect ratio */
      background-color: #333;
      margin-right: 10px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      /* Smooth transitions */
      cursor: pointer;
    }

    .item:hover {
      transform: scale(1.15);
      /* Subtle zoom */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      /* Add shadow */
    }

    /* Adjustments for the scroll button for better visibility */
    .scrollButton {
      display: none;
    }


    .scrollButton:hover {
      opacity: 0.4;
    }

    /* Css of sphere element --------------------------------------------------- */
    /* @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap'); */

    /* Applying CSS to sphere */
    .tagcloud {
      display: inline-block;
      top: 0px;
      left: 32%;
      font-weight: bold;
      letter-spacing: 1px;
      font-family: Arial, Helvetica, sans-serif;
      font-size: 20px;
    }

    /* Change color of each text in sphere on hover   */
    .tagcloud--item:hover {
      color: red;
      cursor: pointer;
    }

    .sphere_body {
      height: 70vh;
      width: 100%;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/TagCloud@2.2.0/dist/TagCloud.min.js"> </script>
  <script type="text/javascript">
    // 
    
    // create hashtag wordcloud
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('scrollButton1').addEventListener('click', function() {
        document.getElementById('items1').scrollLeft -= 1000;
        console.log("heyy")
      });
      document.getElementById('scrollButton2').addEventListener('click', function() {
        document.getElementById('items1').scrollLeft += 1000;
        console.log("heyy")
      });

      document.getElementById('scrollButton3').addEventListener('click', function() {
        document.getElementById('items2').scrollLeft -= 1000;
      });
      document.getElementById('scrollButton4').addEventListener('click', function() {
        document.getElementById('items2').scrollLeft += 1000;
      });


      const Texts = [
        'HTML', 'CSS', 'JAVASCRIPT',
        'SWIFT', 'MONGOOSE', 'REACT',
        'PYTHON', 'SASS',
        'DJANGO', 'NODEJS', 'MONGODB',
        'EXPRESS', 'MYSQL', 'JQUERY', 'JAVA'
      ];

      let tagCloud = TagCloud('.Sphere', Texts, {

        // Sphere radius in px
        radius: 230,

        // animation speed
        // slow, normal, fast
        maxSpeed: 'normal',
        initSpeed: 'fast',

        // Rolling direction [0 (top) , 90 (left), 135 (right-bottom)] 
        direction: 135,

        // interaction with mouse or not [Default true (decelerate to rolling init speed, and keep rolling with mouse).]
        keep: true

      });

      // Giving color to each text in sphere
      let color = '#fff';
      document.querySelector('.Sphere').style.color = color;

    });


    $(() => {
      $("#navbar").load("./partial/navBar.html");
      // hashtag click event
      let rootEl = document.querySelector('.tagcloud');
      rootEl.addEventListener('click', function clickEventHandler(e) {
        console.log(e.target.className)
        if (e.target.className === 'tagcloud--item') {
          window.open(`https://www.google.com/search?q=${e.target.innerText}`, '_blank');
        }
      });

      // load trending data
      $.get("/trending", (data) => {
        // console.log(data)
        data.forEach((item) => {
          $("#trendingItems").append(`<div class="item" style="background-image: url('${item.reflowCover}');"></div>`)
        })
      })
    })
  </script>
</head>

<body>

  <div id="navbar"></div>

  <div class="sphere_body">
    <span class="Sphere"></span>
  </div>

  <!-- The container for the videos information -->
  <div>
    <h2> Trending üî• </h2>
    <div class="container">
      <button class="scrollButton prev" id="scrollButton1">&#10094;</button>
      <div class="items" id="trendingItems">

      </div>
      <button class="scrollButton next" id="scrollButton2">&#10095;</button>
    </div>
  </div>

  <br><br>

  <h2> Sports ‚öΩÔ∏è </h2>
  <div class="container">
    <button class="scrollButton prev" id="scrollButton3">&#10094;</button>
    <div class="items" id="items2">
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
    </div>
    <button class="scrollButton next" id="scrollButton4">&#10095;</button>
  </div>

  <h2> Funny üòÇ </h2>
  <div class="container">
    <button class="scrollButton prev" id="scrollButton3">&#10094;</button>
    <div class="items" id="items2">
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
    </div>
    <button class="scrollButton next" id="scrollButton4">&#10095;</button>
  </div>

  <footer>

  </footer>

</body>

</html>